<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
    </style>
  </head>
  <body>
    <p>Rock Paper Scissors</p>
    <button onclick="
   const ComputerMove= pickcomputerMove();
     playgame('rock');
    ">Rock</button>

    <button onclick="
     playgame('paper');
    ">Paper</button>

    <button onclick="
      playgame('Scissors');
    ">Scissors</button>

    <button onclick="
      score.wins=0;
      score.losses=0;
      score.Ties=0;
      localStorage.removeItem('score');
    ">Reset Score</button>

     <script>
        let score=
          JSON.parse(localStorage.getItem('score'))|| {
              wins:0,
              losses:0,
              Ties:0
          };
         /*
          if(!score){
            score={
              wins:0,
              losses:0,
              Ties:0
            }
          }*/
        
          function playgame(playerMove){
           
            const ComputerMove=pickcomputerMove();
            let result='';
            if(playerMove==='Scissors'){
                if(ComputerMove === 'rock'){
                  result='You lose';
                }
                else if(ComputerMove==='paper'){
                  result='You win';
                }
                else if(ComputerMove==='Scissors'){
                  result='Tie';
                }
          }
          else if(playerMove==='paper')
          {
            if(ComputerMove === 'paper'){
              result='Tie';
            }
            else if(ComputerMove==='rock'){
              result='You win';
            }
            else if(ComputerMove==='Scissors'){
              result='You lose';
            }
          }
          else if(playerMove==='rock')
          {
            if(ComputerMove === 'rock'){
              result='Tie';
            }
            else if(ComputerMove==='paper'){
              result='You lose';
            }
            else if(ComputerMove==='Scissors'){
              result='You win';
            }
          }

          if(result==='You win'){
            score.wins+=1;
          }
          else if(result==='You lose')
          {
            score.losses+=1;
          }
          else if(result==='Tie')
          {
            score.Ties+=1;
          }

          localStorage.setItem('score',JSON.stringify(score));
            alert(`You picked ${playerMove}.Computer picked ${ComputerMove}. ${result}
Wins:${score.wins},Losses:${score.losses},Ties:${score.Ties}`);
          }

          function pickcomputerMove(){
            const randomNumber=Math.random();
            
            let ComputerMove='';

            if(randomNumber >=0&& randomNumber<1/3){
              ComputerMove= 'rock';
            }
            else if(randomNumber>=1/3 && randomNumber<2/3){
              ComputerMove= 'paper';
            }
            else if(randomNumber>=2/3 && randomNumber<1){
              ComputerMove= 'Scissors';
            }
           return ComputerMove;
          }
     </script>
  </body>
</html>
